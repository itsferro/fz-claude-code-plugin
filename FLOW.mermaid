---
title: FZ Workflow
---
flowchart TB
    START(["‚ñ∂ START"])
    END(["‚ñ† END"])

    subgraph DISCUSS["üì¢ DISCUSS"]
        direction TB
        D_VERB["<b>Verb:</b> What + Why"]
        D_DESC["<b>Description:</b><br/>Exploring ideas, problems, and decisions /<br/>Understanding before acting"]
        D_OUTPUT["<b>Output:</b><br/>‚Ä¢ WORK.md (always)<br/>‚Ä¢ CLAUDE.md (if decisions)<br/>‚Ä¢ CR (if code change needed)"]
        D_RULES["<b>‚õî Rules:</b><br/>‚Ä¢ Never write code<br/>‚Ä¢ Always update WORK.md<br/>‚Ä¢ Use AskUserQuestion for decisions<br/>‚Ä¢ Research before building custom"]
        D_STEPS["<b>Steps:</b><br/>1. Listen ‚Äì Understand what user wants<br/>2. Context ‚Äì Read CLAUDE.md, WORK.md, docs<br/>3. Explore ‚Äì Brainstorm, research, ask questions<br/>4. Decide ‚Äì Use AskUserQuestion for choices<br/>5. Capture ‚Äì Update docs, create CR if needed"]
        D_TOOLS["<b>Tools:</b><br/>/fz-discuss, /fz-cr, AskUserQuestion,<br/>Read, Write, WebSearch"]
    end

    subgraph PLAN["üìã PLAN"]
        direction TB
        P_VERB["<b>Verb:</b> How"]
        P_DESC["<b>Description:</b><br/>Designing the solution"]
        P_OUTPUT["<b>Output:</b><br/>‚Ä¢ Plan in codebases/&lt;name&gt;/docs/plans/<br/>‚Ä¢ Failing tests (RED)"]
        P_RULES["<b>‚õî Rules:</b><br/>‚Ä¢ Never write implementation code<br/>‚Ä¢ Use plan mode<br/>‚Ä¢ Tests must fail (RED)<br/>‚Ä¢ Resolve all ambiguity here"]
        P_STEPS["<b>Steps:</b><br/>1. Check ‚Äì Verify CR exists, identify codebase<br/>2. Enter ‚Äì Start plan mode<br/>3. Explore ‚Äì Read codebase, understand patterns<br/>4. Design ‚Äì Define approach, break into tasks<br/>5. Approve ‚Äì Present plan, get user approval<br/>6. Test ‚Äì Write failing tests (RED)<br/>7. Commit ‚Äì Save plan and tests"]
        P_TOOLS["<b>Tools:</b><br/>/fz-plan, EnterPlanMode, ExitPlanMode,<br/>Read, Glob, Grep, Write, Edit, Bash, git"]
    end

    subgraph IMPLEMENT["‚öôÔ∏è IMPLEMENT"]
        direction TB
        I_VERB["<b>Verb:</b> Execute"]
        I_DESC["<b>Description:</b><br/>Building it"]
        I_OUTPUT["<b>Output:</b><br/>‚Ä¢ Working code<br/>‚Ä¢ Passing tests (GREEN)<br/>‚Ä¢ Updated WORK.md"]
        I_RULES["<b>‚õî Rules:</b><br/>‚Ä¢ Never make decisions<br/>‚Ä¢ Follow the plan exactly<br/>‚Ä¢ Verify before claiming done<br/>‚Ä¢ No 'while I'm here' additions"]
        I_STEPS["<b>Steps:</b><br/>1. Check ‚Äì Verify plan exists, tests fail<br/>2. Branch ‚Äì Create feature/fix branch<br/>3. Build ‚Äì Write code to pass tests (GREEN)<br/>4. Verify ‚Äì Run ALL tests, linter, build<br/>5. Update ‚Äì Mark items complete in WORK.md<br/>6. Commit ‚Äì Save working code"]
        I_TOOLS["<b>Tools:</b><br/>/fz-implement, Read, Edit, Write,<br/>Bash, git"]
    end

    subgraph DOCUMENT["üìù DOCUMENT ‚Äî Central Hub"]
        direction TB
        DOC_VERB["<b>Verb:</b> Record + Capture"]
        DOC_DESC["<b>Description:</b><br/>Preserving what was built"]
        DOC_OUTPUT["<b>Output:</b><br/>‚Ä¢ Updated docs (README, API, guides)<br/>‚Ä¢ Changelog entry<br/>‚Ä¢ Knowledge in CLAUDE.md"]
        DOC_RULES["<b>‚õî Rules:</b><br/>‚Ä¢ Never change functionality<br/>‚Ä¢ Document what was actually built<br/>‚Ä¢ Capture learnings for future<br/>‚Ä¢ WORK.md is the central hub"]
        DOC_STEPS["<b>Steps:</b><br/>1. Identify ‚Äì What was built? What changed?<br/>2. Update ‚Äì README, API docs, user guides<br/>3. Changelog ‚Äì Add entry describing change<br/>4. Learnings ‚Äì Capture insights in CLAUDE.md<br/>5. Commit ‚Äì Save documentation"]
        DOC_TOOLS["<b>Tools:</b><br/>/fz-document, Read, Edit, Write,<br/>Bash, git"]
        DOC_HUB["<b>üìã WORK.md Hub:</b><br/>All discoveries recorded here.<br/>Tagged with starting phase:<br/>[DISCUSS], [PLAN], or [IMPLEMENT]"]
    end

    %% Entry
    START --> DISCUSS

    %% Happy Path
    DISCUSS -->|"code change needed"| PLAN
    PLAN -->|"plan approved"| IMPLEMENT
    IMPLEMENT -->|"tests passing"| DOCUMENT
    DOCUMENT --> END

    %% No code change needed
    DISCUSS -->|"no code change needed"| DOCUMENT

    %% Discovery paths (all go to DOCUMENT first)
    DISCUSS -.->|"discovery"| DOCUMENT
    PLAN -.->|"discovery"| DOCUMENT
    IMPLEMENT -.->|"discovery"| DOCUMENT

    %% New work items from DOCUMENT (based on WORK.md tag)
    DOCUMENT -->|"[DISCUSS] item"| DISCUSS
    DOCUMENT -->|"[PLAN] item"| PLAN
    DOCUMENT -->|"[IMPLEMENT] item"| IMPLEMENT

    %% Styling
    classDef phaseBox fill:#f9f9f9,stroke:#333,stroke-width:2px
    classDef hubBox fill:#f3e8ff,stroke:#7c3aed,stroke-width:3px
    classDef startEnd fill:#333,color:#fff,stroke:#333

    class DISCUSS,PLAN,IMPLEMENT phaseBox
    class DOCUMENT hubBox
    class START,END startEnd
